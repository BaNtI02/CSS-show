<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS SHOW</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" type="image/x-icon" href="img/icon.png">
</head>

<body>
    <header>
        <h1><i>CSS SHOW</i></h1>
        <nav class="test">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="#">Showtimes</a></li>
                <li><a href="promotion.html">Promotions</a></li>
                <li><input type="text" placeholder="Search Movies..." class="search-bar" id="movieSearch"></li>
                <li><input type="text" placeholder="Search Location..." class="search-bar" id="locationSearch"></li>
                <li class="test1"><i class="fa fa-user" id="userIcon" style="font-size:30px"><a href=""></a></i></li>
            </ul>
        </nav>
        <div class="modal" id="modal">
            <div class="modal-content">
                <span class="close-button" id="closeButton">&times;</span>
                <h2>LOGIN </h2>
                <button class="social-button google"><img src="img/goog.png" alt="Google" width="50px"> </button>
                <button class="social-button email"><img src="img/mail.png" alt="Email" width="50px"> </button>
                <button class="social-button apple"><img src="img/ios.png" alt="Apple" width="50px"></button>
                <div class="divider">OR</div>
                <!-- <button class="social-button mobile"><img src="img/india.png" alt="India" width="50px"> +91 </button> -->
                <p>I agree to the <a href="#">Terms & Conditions</a> & <a href="#">Privacy Policy</a></p>
            </div>
        </div>
    </header>

    <body>
        <!DOCTYPE html>
        <html lang="en">

        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Movie Ticket Booking</title>
            <style>
                body {
                    font-family: Arial, sans-serif;
                }

                .container {
                    width: 85%;
                    margin-left: 4%;
                }

                .section {
                    margin-bottom: 20px;
                }

                .seats {
                    display: grid;
                    grid-template-columns: repeat(10, 2fr);
                    gap: 5px;
                }

                .seat {
                    width: 30px;
                    height: 70px;
                    background-color: #ddd;
                    text-align: center;
                    line-height: 20px;
                    cursor: pointer;
                    padding: 20%;
                }

                .seat.selected {
                    background-color: #6c5ce7;
                    color: white;
                }

                .seat.unavailable {
                    background-color: #ff7675;
                    cursor: not-allowed;
                }

                .payment {
                    display: none;
                }
            </style>
        </head>

        <body>
            <div class="container">
                <h1>Book Your Movie Tickets</h1>
                <div class="section">
                    <label for="format">Select Format:</label>
                    <select id="format">
                        <option value="2D">2D</option>
                        <option value="3D">3D</option>
                        <option value="IMAX">IMAX</option>
                    </select>
                </div>
                <div class="section">
                    <h2>Select Seats:</h2>
                    <div class="seats">
                        <!-- Seats will be dynamically generated here -->
                    </div>
                </div>
                <div class="section">
                    <button id="proceedToPayment"><a href="payment.html">Book</a></button>
                </div>
            </div>
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const seatsContainer = document.querySelector('.seats');
                    const proceedToPaymentButton = document.getElementById('proceedToPayment');
                    const paymentSection = document.querySelector('.payment');
                    const paymentForm = document.getElementById('paymentForm');

                    // Generate seats
                    for (let i = 1; i <= 50; i++) {
                        const seat = document.createElement('div');
                        seat.classList.add('seat');
                        seat.textContent = i;
                        seat.addEventListener('click', () => {
                            if (!seat.classList.contains('unavailable')) {
                                seat.classList.toggle('selected');
                            }
                        });
                        seatsContainer.appendChild(seat);
                    }

                    // Mark some seats as unavailable (for example purposes)
                    document.querySelectorAll('.seat:nth-child(3n)').forEach(seat => {
                        seat.classList.add('unavailable');
                    });

                    // Handle proceed to payment
                    proceedToPaymentButton.addEventListener('click', () => {
                        const selectedSeats = document.querySelectorAll('.seat.selected');
                        if (selectedSeats.length === 0) {
                            alert('Please select at least one seat.');
                            return;
                        }
                        paymentSection.style.display = 'block';
                        window.scrollTo(0, document.body.scrollHeight);
                    });

                    // Handle payment form submission
                    paymentForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        alert('Payment Successful! Your seats have been booked.');
                        // Here, you can handle the actual payment processing using a payment gateway API.
                    });
                });
            </script>
            <script>
                document.getElementById('userIcon').addEventListener('click', function () {
                    document.getElementById('modal').style.display = 'flex';
                });

                document.getElementById('closeButton').addEventListener('click', function () {
                    document.getElementById('modal').style.display = 'none';
                });

                window.addEventListener('click', function (event) {
                    if (event.target == document.getElementById('modal')) {
                        document.getElementById('modal').style.display = 'none';
                    }
                });
            </script>
            <footer>
                <p>&copy; 2024 Movie Booking Website</p>
            </footer>

        </body>

        </html>